# جلسه اول


## حدیث
هركه در قبال خوبى مردم تشكر نكند ، از خداون هم تشكّر نكرده است.

**-- امام رضا عليه السلام**

## یادداشت
راستش من دیدم که شماها نحوه تعریف تابع رو بلد نیستید، اول کلاس نحوه آموزشش دادم. بعضیا ناراحت شدن که چرا با وجود این که استاد تابع هارو هنوز درس نداده، من دارم درس میدم.

اولا شما قبلا هم از تابع استفاده میکردید فقط نمیدونستید که چطور یک تابع جدید خودتون تعریف کنید!

مثل تابع های 
`printf` و `scanf`.
رو قبلا استفاده میکردید و اگر یادتون باشه شما حتی توی تابع 
`main`
هم کد مینوشتید!

**به علاوه استفاده از تابع این اویژگی های مثبت رو دارد:**
1. استفاده از تابع کد های شمارو قابل فهم تر میکنه
2. استفاده از تابع به شما امکان تست کردن و اشکال یابی راحتتر برنامه تون رو میده
3. نوشتن تابع امکان استفاده مجدد از کد هاتون رو بهتون میده

خب پس خواهش میکنم نق نزن، اتفاقا هم چیز آسون و کاربردی ای هست، فقط یکم تمرین کن. بعد سر کلاس استاد هم بهتون درس میده ...

## تابع
معفهوم تابع در برنامه نویسی مانند مفهوم تابع در ریاضی است.
با این تفاوت که تابع ها در برنامه نویسی میتواندد هیچ ورودی نداشته یا چند ورودی داشته باشند.


برای مثال تابع 
`F(x)`
رو میشه ماشینی در نظر گرفت که ی ورودی به نام
`x`
میگیره و ی کارایی روش انجام میده و در آخر خروجی
`y`
بهمون تحویل میده:
```
         F
      ┌─────┐
  x   │     │  y
──────►     ├─────►
      └─────┘
```


### نحوه تعریف تابع:
```c
output_type function_name(type1 name1, type2 name2, ...)
{
  // your code goes here ...
}
```

**که بجای هر کدام از کلمات بالا:**
- `output_type`: نوع خروجی تابع
- `function_name`: نام تابع
- `type1`: نوع ورودی اول
- `name1`: نام ورودی اول
- `type2`: نوع ورودی دوم
- `name2`: نام ورودی دوم

قرار میگیرد و در درون 
`{}`
کد های تابع نوشته میشود.


برای مثال تابع
`main`
یک تابع است که نوع خروجی آن
`int`
است و هیچ متغیر ورودی ندارد.
```c
int main()
{
  // ...
  return 0;
}
```

### نمونه
یا تابع 
`max`
که دو عدد به نام های 
`a`و `b`
به عنوان عدد صحیح
را به عنوان ورودی گرفته و بیشترین مقدار را خروجی میدهد.
```c
int max(int a, int b)
{
  if (a > b) {
    return a;
  }
  else {
    return b;
  }
}
```

که دستور 
`return ...`
مشخص کننده نتیجه تابع است.


نحوه استفاده از تابع ها هم بسیار ساده است و شما قبلا از آنها استفاده کرده اید مانند:
`printf` یا `scanf`
که کافی است نام تابع را نوشته و ورودی های آن را درون پرانتز بنویسید.

برای مثال برای استفاده از تابع 
`max`
که بالاتر تعریف کردیم، مینویسیم:
```c
max(1, 4);
```

که میتوانیم نتیجه آن را در یک متغیر ذخیره کنیم:
```c
int b = max(1, 4); // now `b` is 4
```

<hr>

## مروری بر حلقه ها
در ادامه برای تمرین و جا افتادن کاربرد حلقه ها،
چند نفر از حاضرین کلاس توابعی پیاده سازی کردند.


### تابع توان
این تابع یک ورودی به نام
`x`
و یک ورودی به نام 
`n`
از نوع عدد صحیح میگیرد.

در نهایت عبارت 
`x^n`
(
  خوانده میشود
  `x`
  به توان 
  `n`
)
را محاسبه میکند.


```c
int p(int x, int n) // x^n
{
  int y = 1;

  for (int i = 0; i < n; i++)
  {
    y = y * x;
  }

  return y;
}
```

### تابع فاکتوریل
در ادامه تابع فاکتوریم تعریف شد:
```c
int fact(int x)
{
  int r = 1;
  for (int i = 1; i <= x; i++)
  {
    r *= i;
  }
  return r;
}
```

<hr>

## تست توابع نوشته شده
در زبان 
`C`
کتابخانه ای به نام 
`assert`
وجود دارد که کار تست کردن تابع عای نوشته شده را آسان میکند.

به صورت زیر میتوان از کتابخانه استفاده کرد:
```c
#include <assert.h>
```

نحوه استفاده آن به این صورت است که مقداری که میخواهیم تست کنیم را درون
`assert(...)`
مینویسم، اگر مقدار درون پرانتز درست بود، که هیچ!
اما اگر درست نبود برایمان گزارشی تهیه میکند که کدامشان در کدام خط با مشکل مواجه شدند.

برای مثال:
```c
assert(1 == 1);
```
برنامه مستقیما بدون ارور اجرا میشود، اما عبارت زیر با مشکل مواجه میشود:
```c
assert(1 == 0);
```
که موقع اجرای برنامه این ارور ظاهر میشود:
```
Assertion failed!

File: ..., Line 5

Expression: 1 == 0
```

با داسنتن کاربرد کتابخانه
`assert`
توابع نوشته شده خود را تست کردیم:
```c
assert(p(27, 0) == 1);
assert(p(2, 3) == 8);
assert(p(3, 4) == 81);

assert(fact(0) == 1);
assert(fact(1) == 1);
assert(fact(2) == 2);
assert(fact(3) == 6);
assert(fact(5) == 120);
assert(fact(6) == 720);
```
که با این کار مطمئن شدیم که توابع نوشته شده درست کار میکنند.

<hr>

## پیاده سازی تابع sin
در ادامه برای  تابعی پیاده سازی کردیم که مقدار 
`sin(x)`
را با سری تیلور محاسبه کند.

فرمول این سری برای تابع سینوس به این صورت است: 
[منبع](https://en.wikipedia.org/wiki/Taylor_series)

$sin(x) = \sum_{n=0}^{\infty} \frac{(-1^n)}{(2n+1)!}\times(x^{2n+1})$

ابندا تابعی نوشتیم که با دادن ورودی های 
`x` و `n`
مقدار جمله 
`n`
ام را محسابه کند.
اسم این تابع را 
`sinp`
گذاشتیم.

یعنی تابع
`sinp`
با گرفتن ورودی های 
`x`و `n`
عبارت زیر را محاسبه میکند:

$\frac{(-1^n)}{(2n+1)!}\times(x^{2n+1})$

که کد آن را به این صورت نوشتیم: (توجه کنید که تابع های توان و فاکتوریل را بالاتر تعریف کردیم و میتوانیم از آنها استفاده کنیم)
```c
float sinp(int n, int x)
{
  return (float)(p(-1, n)) /
         fact(2 * n + 1) *
         p(x, 2 * n + 1);
}
```

حال تابعی میخواهیم که این جملات را از 
`n = 0`
تا
`n = 10`
حساب کرده و همه را باهم جمع کند.
کد آن را به این صورت پیاده کردیم:
```c
float sin(float x)
{
  float y = 0;

  for (int n = 0; n <= 10; n++)
  {
    y += sinp(n, x);
  }

  return y;
}
```

<hr>


## نکات
### استفاده عدد ها در شرط
همونطور که میدونید، توی زبون 
`C`
استفاده از عدد توی شرط ها به این معنیه که
عدد 
`0`
یعنی نادرست
و هر عددی غیر از 
`0`
یعنی درست.

برای مثال توی کد زیر محتویات حلقه
`while`
اصلا اجرا نمیشه:
```c
while(0){
  // ...
}
```
یا محتویات شرط زیر همیشه اجرا میشه:
```c
if (1){
  printf("hello!");
}
```

### چرا دستی برنامه ام رو تست نکنم؟
مشکل تست کردن دستی تابع هایی که نوشتید اینه که باید همه اش برنامه تون رو اجرا کنید و بعد مثلا با تابع 
`scanf`
ورودی را بنویسید و منتظر نتیجه باشید.

اما کتابخونه هایی مثل
`assert`
این کار رو به صورت اتومات انجام میدن، که میتونه خیلی سرعت تست کردن برنامه رو افزایش بدهو

## بیشتر بدانیم
**فعلا حال ندارم ولی شاید بعدا این قسمت رو تکمیل کردم**
- خروجی تابع main
- معنی assert
- مفهوم scope یا محدوده
